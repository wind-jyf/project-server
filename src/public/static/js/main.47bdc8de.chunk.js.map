{"version":3,"sources":["pages/layout/footer/style.module.scss","img/news.jpg","pages/News/style.module.scss","pages/layout/header/style.module.scss","constants/index.ts","locales/index.ts","locales/en-US.ts","locales/zh-CN.ts","utils/intlSafe.ts","componets/Helmet.tsx","pages/Team/index.tsx","api/http.ts","api/news.ts","pages/News/index.tsx","pages/Data/index.tsx","pages/layout/footer/index.tsx","api/login.ts","context/state.ts","context/actions.ts","context/index.ts","pages/components/login/index.tsx","pages/layout/header/index.tsx","pages/layout/index.tsx","context/reducer/index.ts","Home.tsx","index.tsx","pages/components/login/style.module.scss"],"names":["module","exports","LOCALES","LANGUAGE_MENU","locales","IntlSafe","this","safeGet","intl","get","key","console","warn","prototype","HelmetTemplate","title","keywords","description","Helmet","name","content","Team","http","axios","create","timeout","baseURL","headers","Accept","request","url","opts","data","extra","method","params","then","res","code","Error","message","catch","err","error","a","pageDefault","page","page_size","News","useState","newsList","setNewsList","setPage","useEffect","getNewsList","pagination","className","$style","length","map","item","index","id","src","news","width","height","date","Data","Footer","ACTION_TYPE","initialState","admin","Context","React","createContext","state","dispatch","Login","login","setLogin","username","setUsername","modalVisable","setModalVisable","Form","useForm","form","useContext","overlay","Item","onClick","logout","type","UPDATE_USER_STATE","hanleLoginAfter","role","checkLogin","overlayClassName","wrapClassName","visible","footer","onCancel","rules","required","placeholder","Password","validateFields","getFieldsValue","loginAccount","htmlType","Header","props","currentLocale","changeLocale","menus","route","hide","filter","getMenus","activeTitle","find","v","window","location","pathname","children","includes","languageMenuJSX","selectedKeys","Object","keys","to","Layout","header","useUserReducer","useReducer","reducer","action","Home","setCurrentLocale","locale","antLocale","enUS","zhCN","getAntLocale","Provider","value","options","getInitOptions","init","path","component","getRoutes","exact","history","createBrowserHistory","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.47bdc8de.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"style_footer__uzR2q\",\"copyright\":\"style_copyright__3pGHA\"};","module.exports = __webpack_public_path__ + \"static/media/news.924a74c9.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsWrapper\":\"style_newsWrapper__o2-MS\",\"newsList\":\"style_newsList__28n2j\",\"newsItem\":\"style_newsItem__2uTbl\",\"news\":\"style_news__gW7DQ\",\"newsTitle\":\"style_newsTitle__3iGm-\",\"newsDate\":\"style_newsDate__z6Q50\",\"dark\":\"style_dark__2k6jy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__33EyC\",\"logo-container\":\"style_logo-container__1Ik_T\",\"logo\":\"style_logo__1Vnq0\",\"active\":\"style_active__2XPp8\",\"actions\":\"style_actions__2s-YB\",\"default\":\"style_default__1C6I8\",\"language-btn\":\"style_language-btn__1EkAy\",\"triangle\":\"style_triangle__1ymyZ\"};","export const LOCALES = {\n    en: 'en-US',\n    zh: 'zh-CN',\n  \n    // 反向查找\n    'en-US': 'en',\n    'zh-CN': 'zh',\n  };\n\n  export const LANGUAGE_MENU = {\n    'zh-CN': '中文',\n    'en-US': 'English'\n  } as any","import { en } from './en-US';\nimport { zh } from './zh-CN';\nimport { LOCALES } from '../constants';\n\nexport const locales = {\n    [LOCALES.en]: en,\n    [LOCALES.zh]: zh\n  };","export const en = {\n    'news': 'News',\n    'team': 'Team',\n    'Homepage_Title': 'crop phenotyping center',\n    'Homepage_Keywords': 'huazhong agriculture university,crop,phenotyping,rice ,cor,cotton,rape,crop phenotyping center',\n    'Homepage_Description': 'crop phenotyping center of huazhong agriculture university',\n    'Sign_In': 'Sign In',\n    'data': 'Data',\n    'server_error': 'Server Error',\n    'user_name': 'User',\n    'logout': 'logout',\n    'username': \"Username\",\n    'password': 'Password',\n    'username_null_tip': 'Please input your user name',\n    'password_null_tip': 'Please input your password',\n    'footer_copyright': 'Copyrighy 2016-2017'\n}","export const zh = {\n    'news': '新闻',\n    'team': '团队',\n    'Homepage_Title': '华中农业大学作物表型中心',\n    'Homepage_Keywords': '华中农业大学,作物表型,水稻,玉米,棉花,油菜,植物组学',\n    'Homepage_Description': '华中农业大学作物表型中心',\n    'Sign_In': '登录',\n    'data': '数据',\n    'server_error': '服务器错误',\n    'user_name': '用户',\n    'logout': '退出',\n    'username': \"用户名\",\n    'password': '密码',\n    'username_null_tip': '请输入账号',\n    'password_null_tip': '请输入密码',\n    'footer_copyright': '版权所有 2016-2017'\n}","import intl from 'react-intl-universal';\n\n\n\nconst IntlSafe = function(this:any) {\n  this.safeGet = intl.get;\n  this.get = function(key: any) {\n      if (typeof key !== 'string' || key === '') {\n        console.warn(`国际化入参有问题,传入的 key 为 ${key} ,类型为 ${typeof key}`);\n        return '';\n      }\n      return this.safeGet(key);\n    }\n} as any\n\nIntlSafe.prototype = intl;\n\nexport default new IntlSafe();","import React from 'react';\nimport { Helmet } from 'react-helmet';\n\nconst HelmetTemplate = ({ title, keywords, description } : {title:string, keywords:string, description:string}) => (\n  <Helmet>\n    <title>{title}</title>\n    <meta name=\"keywords\" content={keywords} />\n    <meta name=\"description\" content={description} />\n  </Helmet>\n);\n\nexport default HelmetTemplate;\n","import React from 'react';\n\nexport const Team = () => {\n    return <div>team</div>\n}","import axios from 'axios';\nimport { message } from 'antd';\n\ninterface IRequestOptions {\n  method: 'get' | 'post',\n  data?: any\n}\n\nexport const http = axios.create({\n  timeout: 3000,\n  baseURL: '/api/crophe',\n  headers: {\n    Accept: 'application/json'\n  },\n});\n\nexport function request(url: string, opts:IRequestOptions) {\n  const { data = {}, ...extra } = opts;\n\n  return http.request({\n      url,\n      method: opts.method || 'get',\n      params: opts.method === 'get' || opts.method == null ? data : {},\n      data: opts.method === 'post' ? data : {},\n      ...extra\n  }).then(res => {\n    let result;\n    const { data } = res;\n    if(data.code !== 0 ) {\n      throw new Error(data.message);\n    } else {\n      result = data;\n    }\n    return result;\n  }).catch((err) => {\n    message.error(err.message);\n    throw(err);\n  });\n}","import { request } from './http';\n\nexport async function getNewsList(data:any) {\n  const res: any = await request('/news_list', {\n    method: \"get\",\n    data\n  });\n  return res.data;\n}","import React, { useEffect, useState } from 'react';\n\nimport { getNewsList } from '../../api/news';\nimport $style from \"./style.module.scss\";\nimport news from '../../img/news.jpg';\n\nconst pageDefault = {\n    page: 1,\n    page_size: 10\n}\n\nexport const News = () => {\n    const [newsList, setNewsList] = useState([]);\n    const [page, setPage] = useState({});\n\n    useEffect(() => {\n        getNewsList(pageDefault).then((res) => {\n            const { newsList, pagination } = res;\n            setNewsList(newsList);\n            setPage(pagination);\n        })\n    }, [])\n    return (\n        <div className={$style['newsWrapper']}>\n            <div className={$style['newsList']}>\n                {newsList.length === 0 ? null :\n                newsList.map((item:any, index) => {\n                    return (\n                    <div key={item.id} className={index % 2 === 0 ? $style['newsItem'] : $style['dark'] + ' ' + $style['newsItem']}>\n                        <img src={news} width='300' height='159'/>\n                        <div className={$style['news']}>\n                            <h3 className={$style['newsTitle']}>{item.name}</h3>\n                            <span className={$style['newsDate']}>{item.date}</span>\n                        </div>\n                    </div>\n                    )\n                })\n                }\n            </div>\n        </div>\n    )\n}","import React from 'react';\n\nexport const Data = () => {\n    return <div>news</div>\n}","import React from 'react';\nimport $style from \"./style.module.scss\";\nimport intl from '../../../utils/intlSafe';\n\nexport const Footer = () => {\n    return (\n        <div className={$style['footer']}>\n            <span className={$style['copyright']}>{intl.get('footer_copyright')}</span>\n            <span>{intl.get('Homepage_Title')}</span>\n        </div>\n    )\n}","import { request } from './http';\n\nexport async function checkLogin() {\n  const res: any = await request('/check_login', {\n    method: \"get\"\n  });\n  return res.data;\n}\n\nexport async function loginAccount(data:any) {\n  const res: any = await request('/login', {\n    method: \"post\",\n    data\n  });\n  return res.data;\n}\n\nexport async function logout() {\n  const res: any = await request('/logout', {\n    method: \"get\"\n  });\n  return res.data;\n}","\nexport interface IState {\n    admin: boolean\n}\n\nexport const initialState: IState = {\n    admin: false\n};\n","export enum ACTION_TYPE {\n  UPDATE_USER_STATE\n}\n\nexport type IAction = IUpdateUserState;\n\nexport interface IUpdateUserState {\n  type: ACTION_TYPE.UPDATE_USER_STATE,\n  data: boolean\n}","import React from \"react\";\nimport { IState, initialState } from './state';\nimport { IAction } from './actions';\n\nexport interface IContext {\n  state: IState;\n  dispatch: React.Dispatch<IAction>;\n}\n\nexport const Context = React.createContext<IContext>({\n  state: initialState,\n  dispatch: () => {}\n});\n","import React, { useState, useContext } from 'react';\n\nimport intl from '../../../utils/intlSafe';\nimport $style from \"./style.module.scss\";\nimport { Dropdown, Menu, Modal, Form, Input, Button } from 'antd'\n\nimport { checkLogin, loginAccount, logout } from '../../../api/login';\nimport { Context } from '../../../context';\nimport { ACTION_TYPE } from '../../../context/actions';\n\nexport const Login = () => {\n    const [login, setLogin ] = useState(false);\n    const [username, setUsername] = useState('');\n    const [modalVisable, setModalVisable] = useState(false);\n\n    const [form] = Form.useForm();\n    const { dispatch } = useContext(Context);\n\n    const handleLogout = () => {\n        logout().then(() => {\n            dispatch({\n                type: ACTION_TYPE.UPDATE_USER_STATE,\n                data: false\n            });\n            setLogin(false)\n        })\n    }\n    const overlay = (\n        <Menu>\n            <Menu.Item onClick={handleLogout}>\n              {intl.get('logout')}\n            </Menu.Item>\n        </Menu> \n    );\n\n    const hanleLoginAfter = (res:any) => {\n        const { login, username, role } = res;\n        if(role === 'Admin') {\n            setLogin(login);\n            dispatch({\n                type: ACTION_TYPE.UPDATE_USER_STATE,\n                data: true\n            });\n        }\n        setUsername(username);\n    }\n\n    const handleLogin = () => {\n        const { validateFields, getFieldsValue } = form;\n        validateFields().then(() => {\n            const value = getFieldsValue();\n            loginAccount(value).then((res) => {\n                hanleLoginAfter(res);\n                setModalVisable(false);\n            }).catch((err) => console.error(err))\n        })\n    }\n\n    if(!login) {\n        checkLogin().then((res) => {\n            hanleLoginAfter(res);\n        })\n    }\n\n    return (\n        <div className={$style['loginWrapper']}>\n            <div className={$style['login']}>\n                {login ?\n                    <Dropdown overlayClassName=\"user-dropdown\" overlay={overlay}>\n                        <span className={$style['userName']}>\n                            {`${intl.get('user_name')}：${username}`}\n                        </span>\n                    </Dropdown>\n                    :\n                    <Button className={$style['active']} onClick={() => setModalVisable(true)}>\n                        {intl.get('Sign_In')}\n                    </Button>\n                }\n            </div>\n            <Modal\n                wrapClassName={$style['loginModal']}\n                visible={modalVisable}\n                title=\"\"\n                width={328}\n                footer={null}\n                onCancel={() => setModalVisable(false)}\n            >\n                <div className={$style['formWrapper']}>\n                    <Form form={form} >\n                        <Form.Item name=\"username\" rules={[\n                            {\n                                required: true,\n                                message: intl.get('username_null_tip')\n                            }\n                        ]}>\n                            <Input placeholder={intl.get('username')}/>\n                        </Form.Item>\n                        <Form.Item name=\"password\" rules={[\n                            {\n                                required: true,\n                                message: intl.get('password_null_tip')\n                            }\n                        ]}>\n                            <Input.Password placeholder={intl.get('password')}/>\n                        </Form.Item>\n                    </Form>\n                </div>\n                <Button\n                    className={$style['signButton']}\n                    onClick={handleLogin}\n                    htmlType=\"submit\"\n                    >\n                    {intl.get('Sign_In')}\n                </Button>       \n            </Modal>\n        </div>\n    )\n}","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Menu, Dropdown } from 'antd';\nimport $style from \"./style.module.scss\";\nimport intl from '../../../utils/intlSafe';\n\nimport { Login } from '../../components/login';\n\nimport { LANGUAGE_MENU } from '../../../constants';\n\nimport { Context } from '../../../context';\n\ninterface IMenuItem {\n    title: string;\n    route: string;\n    children?: any;\n    hide?: boolean\n}\n\ninterface Iprops {\n    changeLocale:any\n    currentLocale:string\n}\n\nconst getMenus = (admin:boolean) => {\n  const MENUS: IMenuItem[] = [\n    {\n        title: 'news', route: '/news'\n    },\n    {\n        title: 'team', route: '/team'\n    },\n    {\n      title: 'data', route: '/data', hide:!admin\n    }\n  ];\n  return MENUS.filter(item => !item.hide)\n}\n\n\n\nexport const Header = (props: Iprops) => {\n    const { currentLocale, changeLocale } = props;\n\n    const { state: {admin} } = useContext(Context);\n    const menus = getMenus(admin);\n\n    const handleMenuClick = (data:any) => {\n        changeLocale(data.key);\n      };\n\n    const activeTitle = (\n        menus.find(v => window.location.pathname === v.route || (v.children && v.children.includes(window.location.pathname))) || {}\n      ).title;\n\n      const languageMenuJSX = (\n        <Menu onClick={handleMenuClick} selectedKeys={[currentLocale]}>\n          {Object.keys(LANGUAGE_MENU).map(item => (\n            <Menu.Item className={$style[`${currentLocale === item ? 'ant-dropdown-menu-item-selected' : ''}`]} key={item}>\n              {LANGUAGE_MENU[item]}\n            </Menu.Item>\n          ))}\n        </Menu>\n      );\n    return (\n        <div className={$style['header']}>\n            <div className={$style['logo-container']}>\n                <div className={$style['logo']}></div>\n            </div>\n            <nav>\n                {menus.map(v => (\n                    <Link\n                        className={$style[`${activeTitle === v.title ? 'active' : ''}`]}\n                        key={v.title}\n                        to={v.route}\n                    >\n                        {intl.get(v.title)}\n                    </Link>\n                ))}\n            </nav>\n            <div className={$style['actions']}>\n                <Login/>\n                <Dropdown overlayClassName=\"language-dropdown\" overlay={languageMenuJSX}>\n                  <Button className={$style[\"language-btn\"]}>\n                    {LANGUAGE_MENU[currentLocale]}\n                    <span className={$style[\"triangle\"]} />\n                  </Button>\n                </Dropdown>\n              </div>\n        </div>\n    )\n}","import React from 'react';\n\nimport { Footer } from './footer';\nimport { Header } from './header';\n\ninterface IProps {\n    children?: any;\n    header: any;\n}\n\nexport const Layout = (props:IProps) => {\n    return (\n        <div>\n            <Header {...props.header}/>\n            {props.children}\n            <Footer/>\n        </div>\n    )\n}","import { useReducer, Reducer } from \"react\";\nimport { initialState, IState } from \"../state\";\nimport { IAction, ACTION_TYPE } from \"../actions\";\n\nexport function useUserReducer() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return { state, dispatch };\n}\n\nexport const reducer: Reducer<IState, IAction> = (\n  state,\n  action\n) => {\n  switch (action.type) {\n    case ACTION_TYPE.UPDATE_USER_STATE:\n      return {\n        ...state,\n        admin: action.data\n      }\n    default:\n      throw new Error();\n  }\n};\n","import React, { useState, useContext } from 'react';\nimport intl from './utils/intlSafe';\n\nimport { ConfigProvider } from 'antd';\nimport { Route, Switch } from 'react-router';\nimport HelmetTemplate from './componets/Helmet';\nimport enUS from 'antd/lib/locale-provider/en_US';\nimport zhCN from 'antd/es/locale-provider/zh_CN';\n\nimport { Team } from './pages/Team';\nimport { News } from './pages/News';\nimport { Data } from './pages/Data';\nimport { Layout } from './pages/layout'\nimport { LOCALES } from './constants';\n\nimport { Context } from './context';\nimport { useUserReducer } from './context/reducer';\n\nconst getRoutes = (admin:boolean) => {\n  const routes = [\n    { path: '/news', component: News },\n    { path: '/team', component: Team },\n    { path: '/data', component: Data, hide:!admin },\n    { key: 'default', component: News } // 兜底页面\n  ];\n\n  return routes.filter((item:any) => !item.hide);\n};\n\nconst Home = () => {\n  const [currentLocale, setCurrentLocale] = useState(LOCALES.zh);\n  const {state:{ admin }} = useContext(Context);\n\n  const getAntLocale = () =>  {\n    let antLocale = enUS;\n    switch (currentLocale) {\n      case LOCALES.en:\n        antLocale = zhCN;\n        break;\n      default:\n        antLocale = zhCN;\n    }\n    return antLocale;\n  }\n\n  const handleChangeLocale = (locale:string) => {\n    const options = intl.getInitOptions();\n    intl.init({\n      ...options,\n      currentLocale: locale\n    });\n\n    setCurrentLocale(locale);\n  }\n\n  return (\n    <ConfigProvider locale={getAntLocale()}>\n      <Context.Provider value={useUserReducer()}>\n        <Layout \n          header={{\n            changeLocale: handleChangeLocale,\n            currentLocale\n          }}\n        >\n            <HelmetTemplate\n              title={intl.get('Homepage_Title')}\n              keywords={intl.get('Homepage_Keywords')}\n              description={intl.get('Homepage_Description')}\n            />\n            <Switch>\n              {getRoutes(admin).map(item => (\n                <Route exact={!!item.path} key={item.key || item.path} path={item.path} component={item.component} />\n              ))}\n            </Switch>\n        </Layout>\n      </Context.Provider>\n    </ConfigProvider>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport intl from 'react-intl-universal';\n\nimport { createBrowserHistory } from 'history';\nimport { Route, Router, Switch } from 'react-router';\n\nimport './index.css';\nimport 'antd/dist/antd.css';\nimport { LOCALES } from './constants';\nimport { locales } from './locales';\nimport Home from './Home';\n\nconst currentLocale = LOCALES.zh;\n\nexport const history = createBrowserHistory();\n\nconst App = () => (\n    <Router history={history}>\n        <Switch>\n            <Route path=\"/\" component={Home} />\n        </Switch>\n    </Router>\n);\n\n\nintl.init({\n    currentLocale,\n    locales\n}).then(() => {\n    ReactDOM.render(<App />, document.getElementById('root'));\n})\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"style_loginWrapper__280pk\",\"login\":\"style_login__1mKzR\",\"active\":\"style_active__DTbM6\",\"default\":\"style_default__ap89y\",\"loginModal\":\"style_loginModal__3VD9n\",\"formWrapper\":\"style_formWrapper__3Fl8m\",\"signButton\":\"style_signButton__35GHu\",\"userName\":\"style_userName__vzr8U\"};"],"sourceRoot":""}